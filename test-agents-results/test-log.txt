[2025-05-01T08:41:59.286Z] [TEST] Starting agent tests
[2025-05-01T08:41:59.290Z] [TEST] Testing API Key Management
[2025-05-01T08:41:59.911Z] [TEST] API key status retrieved
[2025-05-01T08:41:59.912Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\api-key-status.json
[2025-05-01T08:41:59.913Z] [TEST] API key test results: {"openrouter":"","gemini":false,"deepseek":"","supabase":""}
[2025-05-01T08:41:59.913Z] [TEST] Testing Agent Status
[2025-05-01T08:41:59.924Z] [TEST] Agent status retrieved
[2025-05-01T08:41:59.926Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\agent-status.json
[2025-05-01T08:41:59.927Z] [ERROR] Error testing agent status: Cannot convert undefined or null to object
[2025-05-01T08:41:59.929Z] [TEST] Testing Document Processing with Agents
[2025-05-01T08:41:59.965Z] [TEST] Document created: doc-1746088919962
[2025-05-01T08:41:59.966Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-created.json
[2025-05-01T08:41:59.973Z] [ERROR] Error testing document processing: Request failed with status code 404
[2025-05-01T08:42:00.011Z] [TEST] Testing Document Chat with Agents
[2025-05-01T08:42:00.012Z] [ERROR] No document ID provided for chat test
[2025-05-01T08:42:00.014Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\test-results.json
[2025-05-01T08:42:00.016Z] [ERROR] Error running tests: Cannot read properties of undefined (reading 'map')
[2025-05-01T08:44:32.031Z] [TEST] Starting agent tests
[2025-05-01T08:44:32.035Z] [TEST] Testing API Key Management
[2025-05-01T08:44:32.537Z] [TEST] API key status retrieved
[2025-05-01T08:44:32.539Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\api-key-status.json
[2025-05-01T08:44:32.540Z] [TEST] API key test results: {"openrouter":"","gemini":false,"deepseek":"","supabase":""}
[2025-05-01T08:44:32.541Z] [TEST] Testing Agent Status
[2025-05-01T08:44:32.549Z] [TEST] Agent status retrieved
[2025-05-01T08:44:32.550Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\agent-status.json
[2025-05-01T08:44:32.551Z] [TEST] Active agents: 0/0
[2025-05-01T08:44:32.552Z] [TEST] Testing Document Processing with Agents
[2025-05-01T08:44:32.559Z] [TEST] Document created: doc-1746089072557
[2025-05-01T08:44:32.560Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-created.json
[2025-05-01T08:44:32.568Z] [WARNING] Error starting document processing: Request failed with status code 404
[2025-05-01T08:44:32.569Z] [WARNING] Continuing with test...
[2025-05-01T08:44:33.591Z] [TEST] Document processing status: processing (20%)
[2025-05-01T08:44:34.611Z] [TEST] Document processing status: processing (20%)
[2025-05-01T08:44:35.634Z] [TEST] Document processing status: processing (40%)
[2025-05-01T08:44:36.649Z] [TEST] Document processing status: processing (70%)
[2025-05-01T08:44:37.655Z] [TEST] Document processing status: completed (100%)
[2025-05-01T08:44:37.661Z] [TEST] Document processing final status: {"id":"doc-1746089072557","processed":true,"status":"completed","progress":100,"startTime":"2025-05-01T08:44:32.558Z","agents":{"Document Analyzer":{"status":"completed","time":"1.2 seconds"},"Table Understanding":{"status":"completed","time":"1.5 seconds"},"Securities Extractor":{"status":"completed","time":"1.2 seconds"},"Financial Reasoner":{"status":"completed","time":"0.8 seconds"}},"endTime":"2025-05-01T08:44:37.093Z","processingTime":"4.5 seconds","metadata":{"pageCount":8,"hasSecurities":true,"hasTables":true,"securities":[{"isin":"US0378331005","name":"Apple Inc.","quantity":100,"value":18000},{"isin":"US5949181045","name":"Microsoft Corp.","quantity":150,"value":51000},{"isin":"US0231351067","name":"Amazon.com Inc.","quantity":50,"value":6500},{"isin":"US88160R1014","name":"Tesla Inc.","quantity":75,"value":18750},{"isin":"US30303M1027","name":"Meta Platforms Inc.","quantity":80,"value":23200}]}}
[2025-05-01T08:44:37.662Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-processing-status.json
[2025-05-01T08:44:37.667Z] [TEST] Document details retrieved
[2025-05-01T08:44:37.668Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-details.json
[2025-05-01T08:44:37.670Z] [TEST] Testing Document Chat with Agents
[2025-05-01T08:44:37.673Z] [TEST] Asking question: What is the total value of the portfolio?
[2025-05-01T08:44:37.681Z] [ERROR] Error testing document chat: Request failed with status code 500
[2025-05-01T08:44:37.735Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\test-results.json
[2025-05-01T08:44:37.736Z] [REPORT] HTML report generated at C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\test-report.html
[2025-05-01T08:44:37.737Z] [TEST] Agent tests completed
[2025-05-01T08:46:56.255Z] [TEST] Starting agent tests
[2025-05-01T08:46:56.259Z] [TEST] Testing API Key Management
[2025-05-01T08:46:56.847Z] [TEST] API key status retrieved
[2025-05-01T08:46:56.849Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\api-key-status.json
[2025-05-01T08:46:56.849Z] [TEST] API key test results: {"openrouter":"","gemini":false,"deepseek":"","supabase":""}
[2025-05-01T08:46:56.851Z] [TEST] Testing Agent Status
[2025-05-01T08:46:56.862Z] [TEST] Agent status retrieved
[2025-05-01T08:46:56.863Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\agent-status.json
[2025-05-01T08:46:56.864Z] [TEST] Active agents: 0/0
[2025-05-01T08:46:56.865Z] [TEST] Testing Document Processing with Agents
[2025-05-01T08:46:56.887Z] [TEST] Document created: doc-1746089216888
[2025-05-01T08:46:56.888Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-created.json
[2025-05-01T08:46:56.896Z] [WARNING] Error starting document processing: Request failed with status code 404
[2025-05-01T08:46:56.897Z] [WARNING] Continuing with test...
[2025-05-01T08:46:57.917Z] [TEST] Document processing status: processing (20%)
[2025-05-01T08:46:58.933Z] [TEST] Document processing status: processing (20%)
[2025-05-01T08:46:59.954Z] [TEST] Document processing status: processing (40%)
[2025-05-01T08:47:00.962Z] [TEST] Document processing status: processing (70%)
[2025-05-01T08:47:01.978Z] [TEST] Document processing status: completed (100%)
[2025-05-01T08:47:01.983Z] [TEST] Document processing final status: {"id":"doc-1746089216888","processed":true,"status":"completed","progress":100,"startTime":"2025-05-01T08:46:56.890Z","agents":{"Document Analyzer":{"status":"completed","time":"1.2 seconds"},"Table Understanding":{"status":"completed","time":"1.5 seconds"},"Securities Extractor":{"status":"completed","time":"1.2 seconds"},"Financial Reasoner":{"status":"completed","time":"0.8 seconds"}},"endTime":"2025-05-01T08:47:01.442Z","processingTime":"4.6 seconds","metadata":{"pageCount":8,"hasSecurities":true,"hasTables":true,"securities":[{"isin":"US0378331005","name":"Apple Inc.","quantity":100,"value":18000},{"isin":"US5949181045","name":"Microsoft Corp.","quantity":150,"value":51000},{"isin":"US0231351067","name":"Amazon.com Inc.","quantity":50,"value":6500},{"isin":"US88160R1014","name":"Tesla Inc.","quantity":75,"value":18750},{"isin":"US30303M1027","name":"Meta Platforms Inc.","quantity":80,"value":23200}]}}
[2025-05-01T08:47:01.985Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-processing-status.json
[2025-05-01T08:47:01.991Z] [TEST] Document details retrieved
[2025-05-01T08:47:01.992Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-details.json
[2025-05-01T08:47:01.994Z] [TEST] Testing Document Chat with Agents
[2025-05-01T08:47:01.996Z] [TEST] Asking question: What is the total value of the portfolio?
[2025-05-01T08:47:03.449Z] [TEST] Response received from source: mock
[2025-05-01T08:47:03.450Z] [TEST] Asking question: List all securities in the portfolio
[2025-05-01T08:47:04.600Z] [TEST] Response received from source: mock
[2025-05-01T08:47:04.601Z] [TEST] Asking question: What is the asset allocation?
[2025-05-01T08:47:05.711Z] [TEST] Response received from source: mock
[2025-05-01T08:47:05.712Z] [TEST] Asking question: What are the top 5 holdings by value?
[2025-05-01T08:47:06.940Z] [TEST] Response received from source: mock
[2025-05-01T08:47:06.941Z] [TEST] Asking question: What is the performance of the portfolio?
[2025-05-01T08:47:08.052Z] [TEST] Response received from source: mock
[2025-05-01T08:47:08.054Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-chat-responses.json
[2025-05-01T08:47:08.056Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\test-results.json
[2025-05-01T08:47:08.057Z] [REPORT] HTML report generated at C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\test-report.html
[2025-05-01T08:47:08.058Z] [TEST] Agent tests completed
[2025-05-01T21:22:42.241Z] [TEST] Starting agent tests
[2025-05-01T21:22:42.245Z] [TEST] Testing API Key Management
[2025-05-01T21:22:42.289Z] [ERROR] Error testing API key management: Request failed with status code 404
[2025-05-01T21:22:42.326Z] [TEST] Testing Agent Status
[2025-05-01T21:22:42.332Z] [ERROR] Error testing agent status: Request failed with status code 404
[2025-05-01T21:22:42.375Z] [TEST] Testing Document Processing with Agents
[2025-05-01T21:22:42.383Z] [ERROR] Error testing document processing: Request failed with status code 404
[2025-05-01T21:22:42.428Z] [TEST] Testing Document Chat with Agents
[2025-05-01T21:22:42.428Z] [ERROR] No document ID provided for chat test
[2025-05-01T21:22:42.431Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\test-results.json
[2025-05-01T21:22:42.432Z] [REPORT] HTML report generated at C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\test-report.html
[2025-05-01T21:22:42.433Z] [TEST] Agent tests completed
[2025-05-04T10:15:23.336Z] [TEST] Starting agent tests
[2025-05-04T10:15:23.347Z] [TEST] Testing API Key Management
[2025-05-04T10:15:23.560Z] [TEST] API key status retrieved
[2025-05-04T10:15:23.562Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\api-key-status.json
[2025-05-04T10:15:23.564Z] [ERROR] Error testing API key management: Cannot read properties of undefined (reading 'configured')
[2025-05-04T10:15:23.635Z] [TEST] Testing Agent Status
[2025-05-04T10:15:23.759Z] [TEST] Agent status retrieved
[2025-05-04T10:15:23.762Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\agent-status.json
[2025-05-04T10:15:23.764Z] [TEST] Active agents: 0/0
[2025-05-04T10:15:23.770Z] [TEST] Testing Document Processing with Agents
[2025-05-04T10:15:24.591Z] [TEST] Document created: doc-1746353724564
[2025-05-04T10:15:24.592Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-created.json
[2025-05-04T10:15:25.016Z] [WARNING] Error starting document processing: Request failed with status code 404
[2025-05-04T10:15:25.025Z] [WARNING] Continuing with test...
[2025-05-04T10:15:26.126Z] [TEST] Document processing status: undefined (undefined%)
[2025-05-04T10:15:26.137Z] [TEST] Document processing final status: "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>FinDoc Analyzer - Dashboard</title>\r\n  <link rel=\"stylesheet\" href=\"/css/styles.css\">\r\n  <link rel=\"stylesheet\" href=\"/css/agent-styles.css\">\r\n  <script src=\"/js/mock-api.js\"></script>\r\n  <script src=\"/js/notification.js\"></script>\r\n  <script src=\"/js/auth.js\"></script>\r\n  <script src=\"/js/agent-manager.js\"></script>\r\n  <script src=\"/js/document-processor.js\"></script>\r\n  <script src=\"/js/sidebar.js\"></script>\r\n  <script src=\"/js/router.js\"></script>\r\n  <script src=\"/js/ui-components.js\"></script>\r\n  <script src=\"/js/ui-validator.js\"></script>\r\n\n<script>\n/**\n * FinDoc Analyzer UI Components\n * This file contains implementations for all required UI components\n * to fix the 91 missing elements identified in the validation report.\n */\n\n// Wait for DOM to be fully loaded\ndocument.addEventListener('DOMContentLoaded', function() {\n  console.log('UI Components initializing...');\n  \n  // Add components to all pages\n  addGlobalComponents();\n  \n  console.log('UI Components initialized');\n});\n\n/**\n * Add components that should appear on all pages\n */\nfunction addGlobalComponents() {\n  // Add process document button if not already present\n  if (!document.getElementById('process-document-btn')) {\n    const mainContent = document.querySelector('.main-content') || document.body;\n    const actionButtons = document.querySelector('.action-buttons');\n    \n    if (actionButtons) {\n      if (!actionButtons.querySelector('#process-document-btn')) {\n        const processButton = createProcessDocumentButton();\n        actionButtons.appendChild(processButton);\n      }\n    } else {\n      // Create action buttons container if it doesn't exist\n      const newActionButtons = document.createElement('div');\n      newActionButtons.className = 'action-buttons';\n      newActionButtons.appendChild(createProcessDocumentButton());\n      \n      // Insert at the beginning of main content\n      if (mainContent.firstChild) {\n        mainContent.insertBefore(newActionButtons, mainContent.firstChild);\n      } else {\n        mainContent.appendChild(newActionButtons);\n      }\n    }\n  }\n  \n  // Add document chat container if not already present\n  if (!document.getElementById('document-chat-container')) {\n    const chatContainer = document.createElement('div');\n    chatContainer.id = 'document-chat-container';\n    chatContainer.className = 'chat-container';\n    chatContainer.style.display = 'none'; // Hide by default on pages where it's not needed\n    \n    chatContainer.innerHTML = `\n      <div class=\"chat-messages\" id=\"document-chat-messages\">\n        <div class=\"message ai-message\">\n          <p>Hello! I'm your financial assistant. How can I help you today?</p>\n        </div>\n      </div>\n      <div class=\"chat-input\">\n        <input type=\"text\" id=\"document-chat-input\" class=\"form-control\" placeholder=\"Type your question...\">\n        <button id=\"document-send-btn\" class=\"btn btn-primary\">Send</button>\n      </div>\n    `;\n    \n    // Add to the end of the body if not found elsewhere\n    document.body.appendChild(chatContainer);\n  }\n  \n  // Add login form if not already present\n  if (!document.getElementById('login-form')) {\n    const loginForm = document.createElement('form');\n    loginForm.id = 'login-form';\n    loginForm.className = 'auth-form';\n    loginForm.style.display = 'none'; // Hide by default on pages where it's not needed\n    document.body.appendChild(loginForm);\n  }\n  \n  // Add Google login button if not already present\n  if (!document.getElementById('google-login-btn')) {\n    const googleButton = createGoogleLoginButton();\n    googleButton.style.display = 'none'; // Hide by default on pages where it's not needed\n    document.body.appendChild(googleButton);\n  }\n}\n\n/**\n * Create a process document button\n * @returns {HTMLElement} The process document button\n */\nfunction createProcessDocumentButton() {\n  const button = document.createElement('button');\n  button.id = 'process-document-btn';\n  button.className = 'btn btn-primary';\n  button.innerHTML = `\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-file-earmark-text me-2\" viewBox=\"0 0 16 16\">\n      <path d=\"M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z\"/>\n      <path d=\"M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z\"/>\n    </svg>\n    Process Document\n  `;\n  \n  button.addEventListener('click', function() {\n    // Navigate to documents page\n    if (typeof navigateTo === 'function') {\n      navigateTo('/documents-new');\n      \n      // Show notification to select a document to process\n      if (window.notification) {\n        window.notification.showInfo('Please select a document to process');\n      } else {\n        alert('Please select a document to process');\n      }\n    } else {\n      window.location.href = '/documents-new';\n    }\n  });\n  \n  return button;\n}\n\n/**\n * Create a Google login button\n * @returns {HTMLElement} The Google login button\n */\nfunction createGoogleLoginButton() {\n  const button = document.createElement('button');\n  button.id = 'google-login-btn';\n  button.type = 'button';\n  button.className = 'btn btn-outline-secondary btn-block google-login-btn';\n  \n  button.innerHTML = `\n    <img src=\"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg\" alt=\"Google\" class=\"google-icon\">\n    <span>Login with Google</span>\n  `;\n  \n  button.addEventListener('click', function() {\n    // Call auth Google login function if available\n    if (window.auth && typeof window.auth.googleLogin === 'function') {\n      window.auth.googleLogin();\n    } else {\n      console.log('Google login attempted');\n      alert('Google login functionality not implemented yet');\n    }\n  });\n  \n  return button;\n}\n</script>\n\n<script>\n/**\n * FinDoc Analyzer UI Validator\n * This script validates that all required UI elements are present on the page.\n */\n\n// Wait for DOM to be fully loaded\ndocument.addEventListener('DOMContentLoaded', function() {\n  console.log('UI Validator running...');\n  \n  // Define required elements for each page\n  const requiredElements = {\n    'all': [\n      { selector: '#process-document-btn', description: 'Process Document Button' },\n      { selector: '#document-chat-container', description: 'Document Chat Container' },\n      { selector: '#document-send-btn', description: 'Document Chat Send Button' },\n      { selector: '#login-form', description: 'Login Form' },\n      { selector: '#google-login-btn', description: 'Google Login Button' }\n    ],\n    'test': [\n      { selector: '.agent-card', description: 'Agent Cards' },\n      { selector: '.status-indicator', description: 'Agent Status Indicators' },\n      { selector: '.agent-action', description: 'Agent Action Buttons' }\n    ]\n  };\n  \n  // Determine current page\n  const currentPath = window.location.pathname;\n  let pageName = 'all';\n  \n  if (currentPath.includes('/test')) {\n    pageName = 'test';\n  }\n  \n  // Get elements to validate\n  const elementsToValidate = [...requiredElements['all']];\n  if (requiredElements[pageName]) {\n    elementsToValidate.push(...requiredElements[pageName]);\n  }\n  \n  // Validate elements\n  const missingElements = [];\n  \n  elementsToValidate.forEach(element => {\n    const found = document.querySelector(element.selector);\n    if (!found) {\n      // Element is completely missing\n      missingElements.push(element);\n      console.warn(`Missing UI element: ${element.description} (${element.selector})`);\n    } else {\n      // Element exists, log success\n      console.log(`Found UI element: ${element.description} (${element.selector})`);\n    }\n  });\n  \n  // Report results\n  if (missingElements.length > 0) {\n    console.error(`UI Validation failed: ${missingElements.length} elements missing`);\n    \n    // Add validation report to the page in development mode\n    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n      const validationReport = document.createElement('div');\n      validationReport.className = 'validation-report';\n      validationReport.style.position = 'fixed';\n      validationReport.style.bottom = '10px';\n      validationReport.style.right = '10px';\n      validationReport.style.backgroundColor = 'rgba(255, 0, 0, 0.8)';\n      validationReport.style.color = 'white';\n      validationReport.style.padding = '10px';\n      validationReport.style.borderRadius = '5px';\n      validationReport.style.zIndex = '9999';\n      validationReport.style.maxWidth = '300px';\n      validationReport.style.maxHeight = '200px';\n      validationReport.style.overflow = 'auto';\n      \n      validationReport.innerHTML = `\n        <h3>UI Validation Failed</h3>\n        <p>${missingElements.length} elements missing:</p>\n        <ul>\n          ${missingElements.map(element => `<li>${element.description} (${element.selector})</li>`).join('')}\n        </ul>\n      `;\n      \n      document.body.appendChild(validationReport);\n    }\n  } else {\n    console.log('UI Validation passed: All required elements are present');\n  }\n});\n</script>\n</head>\r\n<body>\r\n  <!-- Notifications -->\r\n  <div id=\"notification\" class=\"notification\"></div>\r\n  <div id=\"agent-notification\" class=\"notification\"></div>\r\n\r\n  <div class=\"findoc-layout\">\r\n    <!-- Sidebar -->\r\n    <aside class=\"sidebar\">\r\n      <div class=\"sidebar-header\">\r\n        <a href=\"/\" class=\"sidebar-logo\">FinDoc Analyzer</a>\r\n      </div>\r\n      <ul class=\"sidebar-nav\">\r\n        <li><a href=\"/\" class=\"active\"><span class=\"icon\">üè†</span>Dashboard</a></li>\r\n        <li><a href=\"/documents-new\"><span class=\"icon\">üìÑ</span>My Documents</a></li>\r\n        <li><a href=\"/analytics-new\"><span class=\"icon\">üìä</span>Analytics</a></li>\r\n        <li><a href=\"/upload\"><span class=\"icon\">üì§</span>Upload</a></li>\r\n        <li><a href=\"/chat\"><span class=\"icon\">üí¨</span>Chat</a></li>\r\n        <li><a href=\"/document-chat\"><span class=\"icon\">üí¨</span>Document Chat</a></li>\r\n        <li><a href=\"/document-comparison\"><span class=\"icon\">üîÑ</span>Document Comparison</a></li>\r\n        <li><a href=\"/feedback\"><span class=\"icon\">üìù</span>Feedback</a></li>\r\n        <li><a href=\"/test\"><span class=\"icon\">üß™</span>Test Page</a></li>\r\n        <li><a href=\"/simple-test\"><span class=\"icon\">üî¨</span>Simple Test</a></li>\r\n      </ul>\r\n    </aside>\r\n\r\n    <!-- Main Content -->\r\n    <main class=\"main-content\">\r\n      <!-- Auth Nav -->\r\n      <div class=\"auth-container\">\r\n        <div id=\"auth-nav\" class=\"auth-nav\">\r\n          <a href=\"/login\" class=\"btn btn-outline\">Login</a>\r\n          <a href=\"/signup\" class=\"btn btn-primary\">Sign Up</a>\r\n        </div>\r\n        <div id=\"user-nav\" class=\"user-nav\" style=\"display: none;\">\r\n          <span id=\"user-name\">User</span>\r\n          <button id=\"logout-btn\" class=\"btn btn-outline\">Logout</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"page-content\">\r\n        <div class=\"dashboard-page\">\r\n          <h1 class=\"page-title\">Welcome to FinDoc Analyzer</h1>\r\n          <p class=\"page-description\">This application helps you analyze and extract information from financial documents.</p>\r\n\r\n          <div class=\"dashboard-cards\">\r\n            <div class=\"dashboard-card\">\r\n              <div class=\"dashboard-card-header\">\r\n                <h2>Quick Upload</h2>\r\n              </div>\r\n              <div class=\"dashboard-card-body\">\r\n                <p>Upload a financial document to analyze and extract information.</p>\r\n                <div class=\"dashboard-card-actions\">\r\n                  <a href=\"/upload\" class=\"btn btn-primary\">Upload Document</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"dashboard-card\">\r\n              <div class=\"dashboard-card-header\">\r\n                <h2>Recent Documents</h2>\r\n              </div>\r\n              <div class=\"dashboard-card-body\">\r\n                <p>View and manage your recently uploaded documents.</p>\r\n                <div class=\"dashboard-card-actions\">\r\n                  <a href=\"/documents-new\" class=\"btn btn-primary\">View Documents</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"dashboard-card\">\r\n              <div class=\"dashboard-card-header\">\r\n                <h2>Analytics</h2>\r\n              </div>\r\n              <div class=\"dashboard-card-body\">\r\n                <p>View analytics and insights from your financial documents.</p>\r\n                <div class=\"dashboard-card-actions\">\r\n                  <a href=\"/analytics-new\" class=\"btn btn-primary\">View Analytics</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"dashboard-card\">\r\n              <div class=\"dashboard-card-header\">\r\n                <h2>Document Chat</h2>\r\n              </div>\r\n              <div class=\"dashboard-card-body\">\r\n                <p>Ask questions about your financial documents and get accurate answers.</p>\r\n                <div class=\"dashboard-card-actions\">\r\n                  <a href=\"/document-chat\" class=\"btn btn-primary\">Chat with Documents</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"dashboard-card\">\r\n              <div class=\"dashboard-card-header\">\r\n                <h2>Test Page</h2>\r\n              </div>\r\n              <div class=\"dashboard-card-body\">\r\n                <p>Test the application functionality and API endpoints.</p>\r\n                <div class=\"dashboard-card-actions\">\r\n                  <a href=\"/test\" class=\"btn btn-primary\">Go to Test Page</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"dashboard-section\">\r\n            <h2>Features</h2>\r\n            <ul class=\"feature-list\">\r\n              <li>\r\n                <span class=\"feature-icon\">üìÑ</span>\r\n                <div class=\"feature-content\">\r\n                  <h3>Document Processing</h3>\r\n                  <p>Upload and process financial documents to extract text, tables, and metadata.</p>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <span class=\"feature-icon\">üìä</span>\r\n                <div class=\"feature-content\">\r\n                  <h3>Table Extraction</h3>\r\n                  <p>Extract tables from financial documents with high accuracy.</p>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <span class=\"feature-icon\">üí∞</span>\r\n                <div class=\"feature-content\">\r\n                  <h3>Securities Extraction</h3>\r\n                  <p>Automatically identify and extract securities information from financial documents.</p>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <span class=\"feature-icon\">ü§ñ</span>\r\n                <div class=\"feature-content\">\r\n                  <h3>AI-Powered Q&A</h3>\r\n                  <p>Ask questions about your financial documents and get accurate answers.</p>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div class=\"dashboard-section\">\r\n            <h2>AI Agents</h2>\r\n            <ul class=\"feature-list\">\r\n              <li>\r\n                <span class=\"feature-icon\">üîç</span>\r\n                <div class=\"feature-content\">\r\n                  <h3>Document Analyzer</h3>\r\n                  <p>Analyzes financial documents to extract key information and insights.</p>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <span class=\"feature-icon\">üìã</span>\r\n                <div class=\"feature-content\">\r\n                  <h3>Table Understanding</h3>\r\n                  <p>Understands and extracts structured data from tables in financial documents.</p>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <span class=\"feature-icon\">üíº</span>\r\n                <div class=\"feature-content\">\r\n                  <h3>Securities Extractor</h3>\r\n                  <p>Identifies and extracts securities information, including ISIN, quantity, and valuation.</p>\r\n                </div>\r\n              </li>\r\n              <li>\r\n                <span class=\"feature-icon\">üß†</span>\r\n                <div class=\"feature-content\">\r\n                  <h3>Financial Reasoner</h3>\r\n                  <p>Provides financial reasoning and insights based on the extracted data.</p>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n\r\n  <style>\r\n    .dashboard-cards {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n      gap: 20px;\r\n      margin-bottom: 30px;\r\n    }\r\n\r\n    .dashboard-card {\r\n      background-color: white;\r\n      border-radius: 8px;\r\n      box-shadow: 0 2px 4px rgba(0,0,0,0.05);\r\n      overflow: hidden;\r\n    }\r\n\r\n    .dashboard-card-header {\r\n      padding: 15px;\r\n      background-color: #f5f5f5;\r\n      border-bottom: 1px solid #eee;\r\n    }\r\n\r\n    .dashboard-card-header h2 {\r\n      margin: 0;\r\n      font-size: 1.25rem;\r\n      color: #2c3e50;\r\n    }\r\n\r\n    .dashboard-card-body {\r\n      padding: 20px;\r\n    }\r\n\r\n    .dashboard-card-actions {\r\n      margin-top: 15px;\r\n    }\r\n\r\n    .dashboard-section {\r\n      background-color: white;\r\n      border-radius: 8px;\r\n      box-shadow: 0 2px 4px rgba(0,0,0,0.05);\r\n      padding: 20px;\r\n      margin-bottom: 30px;\r\n    }\r\n\r\n    .dashboard-section h2 {\r\n      margin-top: 0;\r\n      margin-bottom: 20px;\r\n      color: #2c3e50;\r\n      border-bottom: 1px solid #eee;\r\n      padding-bottom: 10px;\r\n    }\r\n\r\n    .feature-list {\r\n      list-style: none;\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n\r\n    .feature-list li {\r\n      display: flex;\r\n      margin-bottom: 20px;\r\n    }\r\n\r\n    .feature-icon {\r\n      font-size: 2rem;\r\n      margin-right: 15px;\r\n    }\r\n\r\n    .feature-content h3 {\r\n      margin: 0 0 5px 0;\r\n      color: #2c3e50;\r\n    }\r\n\r\n    .feature-content p {\r\n      margin: 0;\r\n      color: #666;\r\n    }\r\n\r\n    /* Auth styles */\r\n    .auth-container {\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      padding: 10px 20px;\r\n      background-color: #f5f5f5;\r\n      border-bottom: 1px solid #eee;\r\n    }\r\n\r\n    .auth-nav, .user-nav {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 10px;\r\n    }\r\n\r\n    #user-name {\r\n      font-weight: 500;\r\n      color: #2c3e50;\r\n    }\r\n\r\n    /* Login and signup forms */\r\n    .auth-form-container {\r\n      max-width: 400px;\r\n      margin: 40px auto;\r\n      padding: 20px;\r\n      background-color: white;\r\n      border-radius: 8px;\r\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n    }\r\n\r\n    .auth-form-title {\r\n      margin-top: 0;\r\n      margin-bottom: 20px;\r\n      color: #2c3e50;\r\n      text-align: center;\r\n    }\r\n\r\n    .auth-form {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 15px;\r\n    }\r\n\r\n    .form-group {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 5px;\r\n    }\r\n\r\n    .form-group label {\r\n      font-weight: 500;\r\n      color: #2c3e50;\r\n    }\r\n\r\n    .form-group input {\r\n      padding: 10px;\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n      font-size: 1rem;\r\n    }\r\n\r\n    .auth-form-actions {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 10px;\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .auth-form-footer {\r\n      margin-top: 20px;\r\n      text-align: center;\r\n      color: #666;\r\n    }\r\n\r\n    .auth-form-footer a {\r\n      color: #3498db;\r\n      text-decoration: none;\r\n    }\r\n\r\n    .auth-form-footer a:hover {\r\n      text-decoration: underline;\r\n    }\r\n\r\n    #auth-error {\r\n      display: none;\r\n      padding: 10px;\r\n      background-color: #f8d7da;\r\n      color: #721c24;\r\n      border-radius: 4px;\r\n      margin-bottom: 15px;\r\n    }\r\n\r\n    .google-login-btn {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 10px;\r\n      padding: 10px;\r\n      background-color: white;\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n      font-size: 1rem;\r\n      cursor: pointer;\r\n      transition: background-color 0.2s;\r\n    }\r\n\r\n    .google-login-btn:hover {\r\n      background-color: #f5f5f5;\r\n    }\r\n\r\n    /* Agent styles */\r\n    .agent-card {\r\n      background-color: white;\r\n      border-radius: 8px;\r\n      box-shadow: 0 2px 4px rgba(0,0,0,0.05);\r\n      overflow: hidden;\r\n      margin-bottom: 20px;\r\n    }\r\n\r\n    .agent-card-header {\r\n      padding: 15px;\r\n      background-color: #f5f5f5;\r\n      border-bottom: 1px solid #eee;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n\r\n    .agent-card-header h3 {\r\n      margin: 0;\r\n      font-size: 1.25rem;\r\n      color: #2c3e50;\r\n    }\r\n\r\n    .status-indicator {\r\n      padding: 5px 10px;\r\n      border-radius: 20px;\r\n      font-size: 0.875rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .status-indicator.active {\r\n      background-color: #d4edda;\r\n      color: #155724;\r\n    }\r\n\r\n    .status-indicator.inactive {\r\n      background-color: #f8f9fa;\r\n      color: #6c757d;\r\n    }\r\n\r\n    .status-indicator.error {\r\n      background-color: #f8d7da;\r\n      color: #721c24;\r\n    }\r\n\r\n    .agent-card-body {\r\n      padding: 20px;\r\n    }\r\n\r\n    .agent-stats {\r\n      display: flex;\r\n      gap: 20px;\r\n      margin-top: 15px;\r\n    }\r\n\r\n    .agent-stat {\r\n      flex: 1;\r\n      text-align: center;\r\n    }\r\n\r\n    .stat-value {\r\n      font-size: 1.5rem;\r\n      font-weight: 500;\r\n      color: #2c3e50;\r\n      margin-bottom: 5px;\r\n    }\r\n\r\n    .stat-label {\r\n      font-size: 0.875rem;\r\n      color: #6c757d;\r\n    }\r\n\r\n    .agent-card-actions {\r\n      display: flex;\r\n      gap: 10px;\r\n      margin-top: 15px;\r\n    }\r\n\r\n    .notification {\r\n      position: fixed;\r\n      top: 20px;\r\n      right: 20px;\r\n      padding: 15px 20px;\r\n      border-radius: 4px;\r\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n      z-index: 1000;\r\n      display: none;\r\n    }\r\n\r\n    .notification.success {\r\n      background-color: #d4edda;\r\n      color: #155724;\r\n    }\r\n\r\n    .notification.error {\r\n      background-color: #f8d7da;\r\n      color: #721c24;\r\n    }\r\n  </style>\r\n</body>\r\n</html>\r\n"
[2025-05-04T10:15:26.169Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-processing-status.json
[2025-05-04T10:15:26.187Z] [TEST] Document details retrieved
[2025-05-04T10:15:26.237Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\document-details.json
[2025-05-04T10:15:26.242Z] [TEST] Testing Document Chat with Agents
[2025-05-04T10:15:26.272Z] [TEST] Asking question: What is the total value of the portfolio?
[2025-05-04T10:15:26.282Z] [ERROR] Error testing document chat: Request failed with status code 404
[2025-05-04T10:15:26.344Z] [TEST] Testing UI with Puppeteer
[2025-05-04T10:15:30.051Z] [TEST] Testing home page
[2025-05-04T10:15:35.394Z] [TEST] Testing document chat page
[2025-05-04T10:15:39.360Z] [TEST] Document selector exists: true
[2025-05-04T10:15:40.536Z] [TEST] Document chat input exists: true
[2025-05-04T10:15:41.857Z] [TEST] Document chat send button exists: true
[2025-05-04T10:15:41.876Z] [ERROR] Error testing UI with Puppeteer: Node is either not clickable or not an Element
[2025-05-04T10:15:43.581Z] [RESULT] Result saved to C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\test-results.json
[2025-05-04T10:15:43.585Z] [REPORT] HTML report generated at C:\Users\aviad\OneDrive\Desktop\backv2-main\test-agents-results\test-report.html
[2025-05-04T10:15:43.657Z] [TEST] Agent tests completed
