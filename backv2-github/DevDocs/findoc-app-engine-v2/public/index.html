<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FinDoc Analyzer - Financial Document Analysis</title>
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="findoc-layout">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h1 class="app-title">FinDoc Analyzer</h1>
      </div>
      <nav class="sidebar-nav">
        <ul>
          <li class="active">
            <a href="/">
              <span class="icon"><i class="fas fa-home"></i></span>
              <span>Dashboard</span>
            </a>
          </li>
          <li>
            <a href="/documents.html">
              <span class="icon"><i class="fas fa-file-alt"></i></span>
              <span>Documents</span>
            </a>
          </li>
          <li>
            <a href="/analytics.html">
              <span class="icon"><i class="fas fa-chart-bar"></i></span>
              <span>Analytics</span>
            </a>
          </li>
          <li>
            <a href="/financial.html">
              <span class="icon"><i class="fas fa-chart-pie"></i></span>
              <span>Financial Analysis</span>
            </a>
          </li>
          <li>
            <a href="/portfolio.html">
              <span class="icon"><i class="fas fa-briefcase"></i></span>
              <span>Portfolio</span>
            </a>
          </li>
          <li>
            <a href="/reports.html">
              <span class="icon"><i class="fas fa-file-invoice"></i></span>
              <span>Reports</span>
            </a>
          </li>
          <li>
            <a href="/chat.html">
              <span class="icon"><i class="fas fa-comments"></i></span>
              <span>Document Chat</span>
            </a>
          </li>
          <li>
            <a href="/processing.html">
              <span class="icon"><i class="fas fa-cogs"></i></span>
              <span>Document Processing</span>
            </a>
          </li>
          <li>
            <a href="/agents.html">
              <span class="icon"><i class="fas fa-robot"></i></span>
              <span>Agent Configuration</span>
            </a>
          </li>
          <li>
            <a href="/extraction.html">
              <span class="icon"><i class="fas fa-table"></i></span>
              <span>Data Extraction</span>
            </a>
          </li>
          <li>
            <a href="/comparison.html">
              <span class="icon"><i class="fas fa-exchange-alt"></i></span>
              <span>Document Comparison</span>
            </a>
          </li>
          <li>
            <a href="/templates.html">
              <span class="icon"><i class="fas fa-copy"></i></span>
              <span>Templates</span>
            </a>
          </li>
          <li>
            <a href="/batch.html">
              <span class="icon"><i class="fas fa-layer-group"></i></span>
              <span>Batch Processing</span>
            </a>
          </li>
          <li>
            <a href="/settings.html">
              <span class="icon"><i class="fas fa-cog"></i></span>
              <span>Settings</span>
            </a>
          </li>
        </ul>
      </nav>
      <div class="sidebar-footer">
        <div class="user-info">
          <div class="user-avatar">AB</div>
          <div class="user-details">
            <div class="user-name">Aviad B.</div>
            <div class="user-role">Administrator</div>
          </div>
        </div>
      </div>
    </aside>

    <!-- Main content -->
    <main class="main-content">
      <!-- Header -->
      <header class="main-header">
        <button class="mobile-nav-toggle" id="mobile-nav-toggle">
          <i class="fas fa-bars"></i>
        </button>
        <div class="search-box">
          <i class="fas fa-search icon"></i>
          <input type="text" placeholder="Search documents, reports, etc.">
        </div>
        <div class="header-actions">
          <a href="/upload.html" class="upload-btn">
            <i class="fas fa-upload"></i>
            <span>Upload Document</span>
          </a>
          <button class="icon-btn" id="notifications-btn">
            <i class="fas fa-bell"></i>
          </button>
          <div class="dropdown">
            <button class="user-menu-btn" id="user-menu-btn">
              <div class="user-avatar-small">AB</div>
            </button>
            <div class="dropdown-menu" id="user-dropdown">
              <a href="/profile.html" class="dropdown-item">
                <i class="fas fa-user icon"></i>
                Profile
              </a>
              <a href="/settings.html" class="dropdown-item">
                <i class="fas fa-cog icon"></i>
                Settings
              </a>
              <div class="dropdown-divider"></div>
              <a href="/logout" class="dropdown-item">
                <i class="fas fa-sign-out-alt icon"></i>
                Logout
              </a>
            </div>
          </div>
        </div>
      </header>

      <!-- Page content -->
      <div class="page-content">
        <h2>Dashboard</h2>

        <!-- Stats -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-card-header">
              <h3 class="stat-card-title">Documents</h3>
              <div class="stat-card-icon">
                <i class="fas fa-file-alt"></i>
              </div>
            </div>
            <div class="stat-card-value">24</div>
            <div class="stat-card-change positive">
              <i class="fas fa-arrow-up icon"></i>
              12% from last month
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-card-header">
              <h3 class="stat-card-title">Processed</h3>
              <div class="stat-card-icon">
                <i class="fas fa-check-circle"></i>
              </div>
            </div>
            <div class="stat-card-value">18</div>
            <div class="stat-card-change positive">
              <i class="fas fa-arrow-up icon"></i>
              8% from last month
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-card-header">
              <h3 class="stat-card-title">Portfolios</h3>
              <div class="stat-card-icon">
                <i class="fas fa-briefcase"></i>
              </div>
            </div>
            <div class="stat-card-value">5</div>
            <div class="stat-card-change positive">
              <i class="fas fa-arrow-up icon"></i>
              20% from last month
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-card-header">
              <h3 class="stat-card-title">Total Value</h3>
              <div class="stat-card-icon">
                <i class="fas fa-dollar-sign"></i>
              </div>
            </div>
            <div class="stat-card-value">$1.2M</div>
            <div class="stat-card-change positive">
              <i class="fas fa-arrow-up icon"></i>
              5% from last month
            </div>
          </div>
        </div>

        <!-- Dashboard grid -->
        <div class="dashboard-grid-2">
          <!-- Portfolio allocation -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Portfolio Allocation</h3>
              <div class="dropdown">
                <button class="btn btn-sm btn-outline dropdown-toggle">
                  <i class="fas fa-ellipsis-v"></i>
                </button>
                <div class="dropdown-menu">
                  <a href="#" class="dropdown-item">
                    <i class="fas fa-download icon"></i>
                    Export
                  </a>
                  <a href="#" class="dropdown-item">
                    <i class="fas fa-sync icon"></i>
                    Refresh
                  </a>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="chart-container">
                <canvas id="portfolioAllocationChart"></canvas>
              </div>
            </div>
          </div>

          <!-- Recent activity -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">Recent Activity</h3>
              <a href="/activity.html" class="btn btn-sm btn-outline">View All</a>
            </div>
            <div class="card-body">
              <div class="activity-list">
                <div class="activity-item">
                  <div class="activity-icon">
                    <i class="fas fa-file-upload"></i>
                  </div>
                  <div class="activity-content">
                    <h4 class="activity-title">Q3 Financial Report uploaded</h4>
                    <div class="activity-meta">PDF • 2.5 MB</div>
                  </div>
                  <div class="activity-time">Just now</div>
                </div>
                <div class="activity-item">
                  <div class="activity-icon">
                    <i class="fas fa-check-circle"></i>
                  </div>
                  <div class="activity-content">
                    <h4 class="activity-title">Investment Portfolio processed</h4>
                    <div class="activity-meta">Excel • 1.2 MB</div>
                  </div>
                  <div class="activity-time">2 hours ago</div>
                </div>
                <div class="activity-item">
                  <div class="activity-icon">
                    <i class="fas fa-briefcase"></i>
                  </div>
                  <div class="activity-content">
                    <h4 class="activity-title">New portfolio created</h4>
                    <div class="activity-meta">Growth Portfolio • 8 securities</div>
                  </div>
                  <div class="activity-time">5 hours ago</div>
                </div>
                <div class="activity-item">
                  <div class="activity-icon">
                    <i class="fas fa-file-invoice"></i>
                  </div>
                  <div class="activity-content">
                    <h4 class="activity-title">Portfolio Analysis report generated</h4>
                    <div class="activity-meta">PDF • 1.8 MB</div>
                  </div>
                  <div class="activity-time">1 day ago</div>
                </div>
                <div class="activity-item">
                  <div class="activity-icon">
                    <i class="fas fa-robot"></i>
                  </div>
                  <div class="activity-content">
                    <h4 class="activity-title">Financial Reasoner agent updated</h4>
                    <div class="activity-meta">Model: Gemini Pro</div>
                  </div>
                  <div class="activity-time">2 days ago</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Recent documents -->
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">Recent Documents</h3>
            <a href="/documents.html" class="btn btn-sm btn-outline">View All</a>
          </div>
          <div class="card-body">
            <div class="document-grid">
              <div class="document-card">
                <div class="document-card-header">
                  <div class="document-card-icon">
                    <i class="fas fa-file-pdf"></i>
                  </div>
                  <div class="document-card-info">
                    <h4 class="document-card-title">Q3 Financial Report</h4>
                    <div class="document-card-meta">
                      PDF <span class="separator">•</span> 2.5 MB <span class="separator">•</span> Just now
                    </div>
                  </div>
                  <div class="document-card-status">
                    <span class="status status-completed">Processed</span>
                  </div>
                </div>
                <div class="document-card-content">
                  This report provides an overview of the financial performance for Q3 2023. The company has shown strong performance with a 15% increase in revenue compared to Q2 2023.
                </div>
                <div class="document-card-footer">
                  <div class="document-card-actions">
                    <button class="btn btn-sm btn-outline">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn btn-sm btn-outline">
                      <i class="fas fa-comment"></i>
                    </button>
                  </div>
                  <button class="btn btn-sm btn-primary">Process</button>
                </div>
              </div>
              <div class="document-card">
                <div class="document-card-header">
                  <div class="document-card-icon">
                    <i class="fas fa-file-excel"></i>
                  </div>
                  <div class="document-card-info">
                    <h4 class="document-card-title">Investment Portfolio</h4>
                    <div class="document-card-meta">
                      Excel <span class="separator">•</span> 1.2 MB <span class="separator">•</span> 2 hours ago
                    </div>
                  </div>
                  <div class="document-card-status">
                    <span class="status status-completed">Processed</span>
                  </div>
                </div>
                <div class="document-card-content">
                  This spreadsheet contains the current investment portfolio with details on securities, allocation, and performance metrics.
                </div>
                <div class="document-card-footer">
                  <div class="document-card-actions">
                    <button class="btn btn-sm btn-outline">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn btn-sm btn-outline">
                      <i class="fas fa-comment"></i>
                    </button>
                  </div>
                  <button class="btn btn-sm btn-primary">Process</button>
                </div>
              </div>
              <div class="document-card">
                <div class="document-card-header">
                  <div class="document-card-icon">
                    <i class="fas fa-file-pdf"></i>
                  </div>
                  <div class="document-card-info">
                    <h4 class="document-card-title">Annual Report</h4>
                    <div class="document-card-meta">
                      PDF <span class="separator">•</span> 5.8 MB <span class="separator">•</span> 5 hours ago
                    </div>
                  </div>
                  <div class="document-card-status">
                    <span class="status status-pending">Pending</span>
                  </div>
                </div>
                <div class="document-card-content">
                  Comprehensive annual report with financial statements, management discussion, and analysis for the fiscal year 2022.
                </div>
                <div class="document-card-footer">
                  <div class="document-card-actions">
                    <button class="btn btn-sm btn-outline">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn btn-sm btn-outline">
                      <i class="fas fa-comment"></i>
                    </button>
                  </div>
                  <button class="btn btn-sm btn-primary">Process</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Mobile navigation
    const mobileNavToggle = document.getElementById('mobile-nav-toggle');
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.querySelector('.main-content');

    mobileNavToggle.addEventListener('click', () => {
      sidebar.classList.toggle('active');
      mainContent.classList.toggle('sidebar-active');
    });

    // User dropdown
    const userMenuBtn = document.getElementById('user-menu-btn');
    const userDropdown = document.getElementById('user-dropdown');

    userMenuBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      userDropdown.classList.toggle('show');
    });

    document.addEventListener('click', (e) => {
      if (!userMenuBtn.contains(e.target) && !userDropdown.contains(e.target)) {
        userDropdown.classList.remove('show');
      }
    });

    // Portfolio allocation chart
    const portfolioAllocationCtx = document.getElementById('portfolioAllocationChart').getContext('2d');
    const portfolioAllocationChart = new Chart(portfolioAllocationCtx, {
      type: 'doughnut',
      data: {
        labels: ['Stocks', 'Bonds', 'Cash', 'Real Estate', 'Alternatives'],
        datasets: [{
          data: [45, 25, 10, 15, 5],
          backgroundColor: [
            '#4f46e5',
            '#3b82f6',
            '#10b981',
            '#f59e0b',
            '#ef4444'
          ],
          borderWidth: 0
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'right',
            labels: {
              padding: 20,
              boxWidth: 12,
              font: {
                size: 12
              }
            }
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                const label = context.label || '';
                const value = context.raw || 0;
                const total = context.dataset.data.reduce((acc, data) => acc + data, 0);
                const percentage = Math.round((value / total) * 100);
                return `${label}: ${percentage}% ($${(value / 100 * 1200000).toLocaleString()})`;
              }
            }
          }
        },
        cutout: '70%'
      }
    });
  </script>
</body>
</html>
